<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>PöbelSlotMaschine</title>
  <style>
    body {
      background: #000;
      color: #00ffcc;
      font-family: 'Courier New', Courier, monospace;
      text-align: center;
      padding: 2rem;
    }

    h1 {
      font-size: 2.5rem;
      margin-bottom: 2rem;
    }

    .slots {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .slot {
      width: 180px;
      min-height: 60px;
      border: 2px solid #00ffcc;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      font-size: 1rem;
      background: #111;
      text-align: center;
      padding: 0.5rem;
      box-shadow: 0 0 8px #00ffcc;
    }

    button {
      background: #00ffcc;
      color: #000;
      border: none;
      padding: 1rem 2rem;
      font-size: 1.2rem;
      font-weight: bold;
      cursor: pointer;
      border-radius: 8px;
      box-shadow: 0 0 10px #00ffcc;
    }

    footer {
      margin-top: 3rem;
      font-size: 0.8rem;
      color: #555;
    }
  </style>
</head>
<body>
  <h1>PöbelSlotMaschine</h1>

  <div class="slots">
    <div class="slot" id="slot1">–</div>
    <div class="slot" id="slot2">–</div>
    <div class="slot" id="slot3">–</div>
  </div>

  <button onclick="rollSlots()">bäääm</button>

  <footer>
    <p>„PöbelSlotMaschine“ — von Paul Rand</p>
  </footer>

  <script>
    let words = {};

    async function loadWords() {
      const response = await fetch("words.json");
      words = await response.json();
    }

    function getRandomFrom(arr) {
      return arr[Math.floor(Math.random() * arr.length)];
    }

    async function rollSlots() {
      if (Object.keys(words).length === 0) await loadWords();

      const genders = ["masculine", "feminine", "neuter"];
      const gender = getRandomFrom(genders);
      const data = words[gender];

      const slot1 = getRandomFrom(data.adj1);
      const slot2 = getRandomFrom(data.adj2);
      const noun = getRandomFrom(data.nouns);

      const genderLabel = gender === "masculine" ? "(m)" : gender === "feminine" ? "(w)" : "(s)";

      document.getElementById('slot1').innerHTML = `<b>${slot1}</b><br><b>${genderLabel}</b>`;
      document.getElementById('slot2').innerHTML = `<b>${slot2}</b>`;
      document.getElementById('slot3').innerHTML = `<b>${noun}</b>`;
    }
  </script>
</body>
</html>
